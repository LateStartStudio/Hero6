# Build steps

steps:
- bash: ./.paket/paket.exe restore
  displayName: Restore Packages 1
  workingDirectory: './src'

# Restore packages
- bash: dotnet restore Hero6.sln
  displayName: Restore Packages 2
  workingDirectory: './src'

# Build the Hero6 MonoGame Pipeline extension
- task: DotNetCoreCLI@2
  displayName: Prebuild Hero6 MonoGamePipeline
  inputs:
    command: 'build'
    projects: './src/Hero6.MonoGamePipeline/Hero6.MonoGamePipeline.csproj'
    arguments: '--no-restore -c $(BuildConfiguration)'

# Build the Hero6 source code
- task: DotNetCoreCLI@2
  displayName: Build Hero6
  inputs:
    command: 'build'
    projects: './src/Hero6.sln'
    arguments: '--no-restore -c $(BuildConfiguration)'
